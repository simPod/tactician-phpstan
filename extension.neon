parameters:
    tactician:
        bus: League\Tactician\CommandBus
        method: handle

services:
    -
        class: League\Tactician\PHPStan\TacticianRuleSet
        arguments:
            commandBusClass: %tactician.bus%
            commandBusMethod: %tactician.method%
        tags:
            - phpstan.rules.rule

    -
        class: League\Tactician\PHPStan\HandlerReturnTypeExtension
        arguments:
            commandBusClass: %tactician.bus%
            commandBusMethod: %tactician.method%
        tags:
            - phpstan.broker.dynamicMethodReturnTypeExtension

    -
        class: League\Tactician\Handler\Mapping\CommandToHandlerMapping
        factory: League\Tactician\PHPStan\MappingLoader::loadBootstrapFile(%tactician.bootstrap%)
